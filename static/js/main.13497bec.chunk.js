(this["webpackJsonpmy-tube"]=this["webpackJsonpmy-tube"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),m=n(5),o=n.n(m),r=(n(11),n(1)),i=n(3),l=n(2);function s(e){var t=e.dispatch,n=Object(a.useState)(""),m=Object(r.a)(n,2),o=m[0],i=m[1],l=Object(a.useState)(""),s=Object(r.a)(l,2),u=s[0],d=s[1];return c.a.createElement("form",{action:"",className:"post-add-vid-form",onSubmit:function(e){e.preventDefault(),t({type:"ADD_VIDEO",videoLink:o,videoName:u}),d(""),i("")}},c.a.createElement("p",{className:"add-vid"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"),c.a.createElement("div",{className:"blockFlex"},c.a.createElement("div",{className:"blockInput"},c.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL",onChange:function(e){var t=e.target.value;i(t)},value:o}),c.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0438\u0434\u0435\u043e",onChange:function(e){var t=e.target.value;d(t)},value:u,className:"bottomInput"})),c.a.createElement("button",{className:"buttonAdd"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}function u(e){var t=e.subComment,n=e.dispatch,m=Object(a.useState)(""),o=Object(r.a)(m,2),i=o[0],l=o[1],s=Object(a.useState)(!1),u=Object(r.a)(s,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"subcomment"},c.a.createElement("p",null,t.name),c.a.createElement("p",null,t.content),c.a.createElement("button",{onClick:function(){d?(E(!1),l("black")):(E(!0),l("red")),n({type:"SUB_COMMENT_LIKE",subCommentId:t.id})},className:i},t.likes),c.a.createElement("button",{onClick:function(){n({type:"SUB_COMMENT_REMOVE",subCommentRemoveId:t.id})}},"x"))}function d(e){var t=e.subComments,n=e.dispatch;return c.a.createElement("div",null,c.a.createElement(u,{subComment:t,dispatch:n}))}function E(e){var t=e.mainComment,n=e.dispatch,m=Object(a.useState)(""),o=Object(r.a)(m,2),i=o[0],l=o[1],s=Object(a.useState)(""),u=Object(r.a)(s,2),E=u[0],p=u[1],v=Object(a.useState)(!1),b=Object(r.a)(v,2),O=b[0],f=b[1];return c.a.createElement("div",{className:"maincomment"},c.a.createElement("p",null,t.name),c.a.createElement("p",null,t.content),c.a.createElement("button",{onClick:function(){O?(f(!1),p("black")):(f(!0),p("red")),n({type:"MAIN_COMMENT_LIKE",mainCommentId:t.id})},className:E},t.likes),c.a.createElement("button",{onClick:function(){n({type:"MAIN_COMMENT_REMOVE",mainCommentRemoveId:t.id})}},"x"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({type:"MAIN_COMMENT_ADD",mainCommentAddId:t.id,mainMessage:i}),l("")}},c.a.createElement("input",{type:"text",placeholder:"respond",onChange:function(e){var t=e.target.value;l(t)},value:i}),c.a.createElement("button",null,"respond")),t.comments.map((function(e){return c.a.createElement(d,{subComments:e,dispatch:n})})))}function p(e){var t=e.mainComments,n=e.dispatch;return c.a.createElement("div",null,c.a.createElement(E,{mainComment:t,dispatch:n}))}function v(e){var t=e.data,n=e.dispatch,m=Object(a.useState)(""),o=Object(r.a)(m,2),i=o[0],l=o[1],s=Object(a.useState)(""),u=Object(r.a)(s,2),d=u[0],E=u[1],v=Object(a.useState)(!1),b=Object(r.a)(v,2),O=b[0],f=b[1],C=function(e){e.preventDefault(),n({type:"ACTION_ADD",addPostId:t.id,message:i}),l("")};return c.a.createElement("li",{className:"blockvideo"},c.a.createElement("video",{controls:!0,className:"video"},c.a.createElement("source",{src:t.videoUrl})),c.a.createElement("button",{onClick:function(){O?(f(!1),E("black")):(f(!0),E("red")),n({type:"ACTION_LIKE",likePostId:t.id})},className:d},"\u2665",t.likes),c.a.createElement("button",{onClick:function(){n({type:"ACTION_REMOVE",removePostId:t.id})}},"x"),c.a.createElement("p",null,t.videoName),c.a.createElement("label",{htmlFor:"post-video-add-comment"},"Comment"),c.a.createElement("form",{onSubmit:C},c.a.createElement("input",{type:"text",id:"post-video-add-comment",placeholder:"add your comment",onChange:function(e){var t=e.target.value;l(t)},value:i}),c.a.createElement("button",{onClick:C},"Add")),c.a.createElement("div",{className:"common"},t.comments.map((function(e){return c.a.createElement(p,{mainComments:e,dispatch:n})}))))}function b(e){var t=e.data,n=e.dispatch;return c.a.createElement("li",{className:"videos-post"},c.a.createElement(v,{data:t,dispatch:n}))}var O=1,f=1,C=1,N=[{id:O++,videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",videoName:"byGoogle",likes:7,isLiked:!1,comments:[]}];function k(e,t){return e.map((function(e){return e.id!==t?e:e.isLiked?Object(l.a)({},e,{likes:e.likes-1,isLiked:!1}):Object(l.a)({},e,{likes:e.likes+1,isLiked:!0})}))}function I(e,t){return e.filter((function(e){return e.id!==t}))}function h(e,t){return[{id:f++,name:"Taha",content:t,likes:0,isLiked:!1,comments:[]}].concat(Object(i.a)(e))}function j(e,t,n){return e.map((function(e){return Object(l.a)({},e,{comments:e.id!==t?e.comments:[].concat(Object(i.a)(e.comments),[{id:C++,name:"Bakha",content:n,likes:0,isLiked:!1}])})}))}function M(e,t){switch(t.type){case"ACTION_LIKE":return k(e,t.likePostId);case"MAIN_COMMENT_LIKE":var n=t.mainCommentId;return e.map((function(e){return Object(l.a)({},e,{comments:k(e.comments,n)})}));case"SUB_COMMENT_LIKE":var a=t.subCommentId;return e.map((function(e){return Object(l.a)({},e,{comments:(t=e.comments,n=a,t.map((function(e){return Object(l.a)({},e,{comments:k(e.comments,n)})})))});var t,n}));case"ACTION_REMOVE":return I(e,t.removePostId);case"MAIN_COMMENT_REMOVE":var c=t.mainCommentRemoveId;return e.map((function(e){return Object(l.a)({},e,{comments:I(e.comments,c)})}));case"SUB_COMMENT_REMOVE":var m=t.subCommentRemoveId;return e.map((function(e){return Object(l.a)({},e,{comments:(t=e.comments,n=m,t.map((function(e){return Object(l.a)({},e,{comments:I(e.comments,n)})})))});var t,n}));case"ACTION_ADD":var o=t.addPostId,r=t.message;return e.map((function(e){return Object(l.a)({},e,{comments:e.id!==o?e.comments:h(e.comments,r)})}));case"MAIN_COMMENT_ADD":var s=t.mainCommentAddId,u=t.mainMessage;return e.map((function(e){return Object(l.a)({},e,{comments:j(e.comments,s,u)})}));case"ADD_VIDEO":var d=t.videoLink,E=t.videoName;return[].concat(Object(i.a)(e),[{id:O++,videoUrl:d,videoName:E,likes:0,isLiked:!1,comments:[]}]);default:return e}}function g(){var e=Object(a.useReducer)(M,N),t=Object(r.a)(e,2),n=t[0],m=t[1];return c.a.createElement("div",{className:"mainBlock"},c.a.createElement("header",null,c.a.createElement("figure",null,c.a.createElement("img",{src:"https://cdn.worldvectorlogo.com/logos/youtube-icon.svg",alt:"",className:"myTubeIcon"})),c.a.createElement("div",{className:"postAddForm"},c.a.createElement(s,{dispatch:m}))),c.a.createElement("main",null,c.a.createElement("h2",null,"\u0412\u0441\u0435 \u0432\u0438\u0434\u0435\u043e"),c.a.createElement("article",null,c.a.createElement("ul",null,n.map((function(e){return c.a.createElement(b,{data:e,dispatch:m})}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement((function(){return c.a.createElement("div",null,c.a.createElement(g,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.13497bec.chunk.js.map